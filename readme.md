# Mithril Modal Example

[Flems demo](https://flems.io/#0=N4IgtglgJlA2CmIBcBWAzAOgOwCYA0IAZhAgM7IDaoAdgIZiJIgYAWALmLCAQMYD21NvEHIQIAL54a9RiACyfKLVgYAVuV4ChIpv2qk2AAgVLYhgLyHCAV2o82EAQAoAlIeAAdaocMIjUPjAvDzY-Qx4WEigAJ2Fg70MAekTDAGEtWghqeGjwwIAHAWEjAHd4QzA+WyM2PkNaQ2i+PjYAWgQAN3gzABEAeTlDakV4Lx89A2NFZXTBTOzcy09qEJCOiHgSpENXCwA+cMjYGLiVtnF4n1i2a2jvZZ8fAR5Y2iEnDrcHx-Gjk+9LB0MBEorEVgkfslDABBfL5YRQeoVaZmPRseY5Qy1LEscoIwx8QiGABGigAnmMfoYAmALNS+DxrAxBMDXkIAKIIZlsJwAcigEA6vJclMhKQAKrjkaZwrBaKRSIYWPKkYRaFB4K0svVqBAwG9HOCqfSwMC5QqAHIyOm8yqmXmix4BRncjCkqBkjC0OEI1J-Jw0kUQx6myrVAOBPBTUyzdFZHJBn6SR0CYnwQh8WLWfJKd6fdyO36g4R0oEg45gx3J4Op9OZnLwSpdbYfYYatzmA7fMUwmBInjmxUlCBsFhWdWaqpGeAADxHOr1BoEhZNZvlpAAMhADF6YHzIhrhSvrrdvNkSoYAApNSCkeBORZdlc+Gm7qDsrqCLcGYQ5Pm0XV9QcIpqCgXko2iRMqXEKCfGrH4BFiJt7y+FcoR6eADCaMkcXKO1lBNLFYngDBDAAVVILIAHMKgwMNBEMYdRzQlJqGsWAzDYaIICoqickVACcPw1E-jBRpGz4DoCJYZoAGtSAwFdQyqQQIzAKM2I42CnQZJlijdckMCQyT4D9KI1O0+DHnWTZdmAC4EgchzuBAO8EHsQ1yCYAAOJAAAYJCkEA6AYUQ1A0EA0WKUQJiMWF8jpGw7GA6g7MpMJSBkkoTAIyw1VgO9LnEm47gLYMbK2HYOwOMA+S9OFwKU-cAEZwMMXkct6CThTwJreXyNreVSWAIB4WSSW6PgL2xPh4W8BphJ6vqBt64Mflq3liWsNhamoRq1qpbtjUeNgyXhbZNu23b9uOqlnhGsa7MyqbOrpLjrHgBzbrg1bvvavo5ujZQHQOnxtLB36qWe7KUUMAAyOGKicTrIeNDa6JRVoosEG7vo2lg0EGgAJbpYDqTqAEIltBkM+QFIVUbxvktp2gRcb+nwjo5rEzvgC6Weuxnufu0bZKerLXry5Q7y+7nDCs7mhrJu8gdgEHufBqlNbBldtKgpz4mU8NnT0ll3TJKN4qDQLpFCphgQVFzsbYURzbKnx9WiKism2PyAG5KXydUBWoKjfYDhIM0EVo1UgWAyW2UgANIVo724wgI58KO2kogAvPnDGagA2fIZwjhyvHqhLviDmBqO2HBG3L+IAAFZPgMlCGiGRFTVDUtXuSku8CdxZtoHgRwTwx-dl7FgDHifTu2Zq-YN8E247rue-Hfup3dqwb1HoPF6nlfZ7qefj8n8O18r4T98KSiUu2YgZ3gKBM6xWbw-S9M2B-hIw4oCjmXn5PyABST+uIeLsFARAz+xJx6ySok0WwUAsZ8DJtEbYXtEFOBwCgFAeACFEJIXgPy2AUAuE-gKUg+Q5RT0IAgMulJVDWAMBAQgZIMGCGKNsHgxQcif2UDxagWohBgFIPwwR0RP5cWTiOQ02wF6T2nhgFApBhGASXNQF+E4B5qI0c3agGNTCsGgOUb4AFFzPx3pObahjNFeAriY4SPDtBGG+EIGcbQRFUV0eEGRn9a4hzDoYRutIAAsjZDBoBidEsACCkEoJUug-gWDtgAGIABiuSEF8BnKnZUARKoUJQDEspMSImGEyQATnqfk6IGpsE1NSG0wupdDCkEwdAcuLk3LwA8gILyIBmqRKQM1CQABdAgI1qDyUoLbWQkBRzcS4AQW4XAmDsDYPkKRyRbD5GQcCQIiQVksDWS3ZqGBrlFzOSOC5JBwouVOvCUQpAXgQHyC7cQUzxBAA)

This is a simple modal example for [Mithril.js](https://mithril.js.org/). It uses a portal-like technique to append a DOM node to the end of the document body and temporarily mounts a separate vnode tree there. When the modal is removed, that dom node and vnode tree are cleaned up.

This allows you to place a modal component nested anywhere within your vdom.

## Composing from re-usable parts

We might want to create a more re-usable Modal component that relies on this portal-like behaviour. Here is a [Flems demo](https://flems.io/#0=N4IgtglgJlA2CmIBcBWAzAOgOwCYA0IAxgPYB2AzsQskVbAIYAO58UIBAZhAucgNqhS9MIiQgMACwAuYWO1qkp8RTRABfPIOGiQAeQBu8AE4MAnhgBWvAiUXKpNAPQAqZwB1SAFQkRyAAgNjMz8SMEYyez9GI2J9aHh-ej8OAFdYWABackIjeGUQ2OM-eAQRRQwPAEkpP18-MGIUuyg-KWI-JJZGeiN6JT8ANUcAEV0AWVbc+A7GRmUoVlb2qQlpgCNiKHMPAGEfWChc0j9yFNnYCEW2gMMTelMO3L8jhdyWiEVln38pKYqvVY3IL3AphCKKEL0Y5raakBJKFpQ0wAd1WT2REBWHz8pkaRhmjAA5OQPHF4Mi-GsUjUMelKdMXsYru0oL5GMFCkY2oxirdTFjSABzYqwFj-ZyODweWzkGqBO4PAC8ySahCkEDIAAoAJR+YBSqQIGpQYhgA1GkL7Q7KKWkNxSGVy25mHZkKT0D5FZX6u1Se1k5FIPw6vyKgB8lu41rtvrUtvtuSkKSMxx99vtZBy8D68E1+l1ab9RcIVqOob8+gwJajRwN6akjkcfgAgrN5h0CooPXD8dcVtN28QOJTNqY60WTWByybCCkylIq7kcwBRUr2TWE1n6Qna8f2ydVhjkcgAOW05cJnLMhL3Uhnc-sGA2WwwTDmpCgeyjmsnu999bADAGiaKQf1NPAgQVV0u09Iw-3rDRxzIGEOGIXIzigHM8wLW9qwOMtlUrPDo3HRD-zaUgULQpkGkMbC9VvRsWxgDtCCPfwMRWZJ6AWDJGhqeAAA9MQ6UgIDAPoNRjet91NQ96GPAAZXwFx4qANx8BYd1vRNk2OOEKQABRiSAWE1fFwwY8j6wPNTl0MRRlNlZRjA3KFxMk8EoEJCC4NvNR4KLMj6zIXJaNzHDrJkIDGkUMCwAg0g0lgQL6yY4Z4RiB5+z8K8QUnSY8gwPwAFVyA+YVAOAiFOIkRimySulfggQVBWMRJSAeBpMNgSN8PyMLYnoXqJGIYgAGtyH+GS72IWd5yfUcMEGwwvwOeLUqkYKiwDENgDjWMPDUeQWAQNUpN4MQcAARiQHB1E0EAhBEGgxk2YbLGsBQlBUMQXHcAE6jenrQXCOEIRSFgfkBeVglCMHImuaJYniDoPFSOlsimY4SFuUSWkZIxEj8VlhuIQUMgucbpgxKA2ppTEfGOFY+g8ZEPSkfxUN7QFIaKa42IgQhxo7KkpAo4rmz8YHhtqCh3VIQhpkIKEPBhPw4WcxFOtRJk-Fq7FcWTAliQrS4KShFpaV69XCdYDwyCWHkh15Yx+SZ4USjFW1l0EuY1UWPpfkSJ4FOSOhiGRcgkFtD4lCMDh6CVltxaJqy-FaTEECDQC1pI45Ox+qQc4wPPawLsWKOjvVoCDWUjAqiClEE4uTmaoU1D4ABdDwM7IHZYGIMza7bhuhW1IN9GIaAjttZsagQBSagiSlqQok5RrSFp1eRuIFhaYh+yMDEWFaNF4DZ7gbdhdp2ey9o2KH6Ycu6j6PAlW1HWl97euVVJFfVFqfM6c-AWkFsLVglQoC9z8DA3SKYQEZ12sAIORMgzAHVIaeAEFbBFwgpXMg5AIL90HiwNQAVEEZ1qMOTU4DqZQCgX4AAhMqRqKVKFUL8ExAA6rCPILRrjDUHhSHKsMQTw3BAJQS8BZz9ExCSAunCM5MSEiJdyElAGkGKgAIRkfQPmtQah1CSMRXKw4sT+AkeDKQeAYFKK4U2ES1sNaH2SBAdEqxmbfFBpI2o-gVqsH+PY5RTZKjy2zFACCyI+HMmePAcKhi3FExqFRJ4FifHWLsUopigpiAJA6HfaaRY0pNm4Z40Wa9HZ1DoawKJ0xTQiVEc6cRpoEaKCyZwpiHATJnyBj-DJ9hTZwhbmbckcSPzGCiT4Es+sr4dKoUxZqrUihiNMKbZC8BuY0UKH4UaE0gnBPgfpZK8yDr2KOfUTUqzbGKKUT6YJVDQrxMKHteZ9ieEc3DjzepzS1n+OefoWW6jPLMwfq0o08ADkPJCX4bw+RolJPqcbboRwpCmxVukNYSdxpTKFhIWZ6Q3nZKbNEBIc56BrFgA8AJvT-Ay16lYx8RLOHGQaWKXIlBYB0W1BgfspBNQhksvc6FnCSFP1oRcCBDCoB-hFZwwCbxejIh1MyqhAVVVnOCWRB5YANwxR6j5VVurCQSDQD5TOWDtQ3JFca-Vw0Mi4MGTgt09grVGr1a-TIBCKCGtuQ871U0JKME1GsUMYZVXyo3N631cq7kRuCVIUwcwgyEmjda2NSjWTkApQgKAQYanSuYaw5K6aM2PMVpK8ary-VlpCJWyBLRlRrAwDPGtsbNVlu1bW5tzc-RtuCbKuVg6HnDqUaOjOuolFZM1QdA6J0SgyM0ZdEAaAkAABY10PS0C9MQn15COt+goWULZZjln-udLUkUM4WnIKNZE9Kz3DRYLaDOFzhVIPNkGQVEZbVvhjUo41EhrrmsJA+jKDQdylqocaokEFCQDyFiLGEwili5XfB2T1kH5kwf-fY41abVXvuhYm5NfhU2VNILh6FmZK3VrLbeyOD7lS-BSBfftnCO1aqg-Ywkuh0P0pvP2t1-amL2XyCsRogp8XpM9X4jW8JFgG2OHiE9PJ9CTm4wsxxDM6RvmzPiR23IzGuyMO7CqIoWAQT0xMloRLFlfAHB+Yz955wjhfEShj97+kADJvOXPpRBIj9jMHZzIwACRKIPb+PUmFUfsQe1u8HK1n3WBR+kKGBakMhXFpRAagwCBHoSR+LBzW9pTQPJ+hI1Bd006K0gFXh4yo4cEzzTHuKijYyKzjHHx1+FHYO2dtoqqxVAi5x8z5TAQVbIwP8W6nraBoFWY8+6XWHomyAiSRhBQfCDAABgANwwO6DACqe3DsF1QooDIidIBUrrlCcgWRjAQA4OdjOl2pBZAgAAL3gEGa6AA2RgglzsHQ8K+U9wrjusiFEGHA8TQe2gAALU1MN07QXMeLwAyNiYV3TTR6mIN0QgmJTBnc1dcYAROk6k-+-twbMYUfwDR70EQmPeL8RAfjqcVPie078NdenMDKfU5J4m8ns8YwYDyg8KHQ9MRSSDFwaRUA3tOzOzAhAHBW4HZgbTFY-3du7YAKRq9WC1aQhuTdq6xcLQUMQmhQAdVQNCQYttYs1DgFAKA8Be5937vAu3sAoG1GrrN7J7hK4QCDmBFhIbqg4KYZ3dhFD5vsMYNXw0WqkBx0oMA1clZ2CMJnsSGjFfcV4tiIPKByCI60TLyQqNhXAs0UrrHfFqR+Gr7XyX4PZPCt7RkLPgpSBp6L2r6Hp2-Dw6nGu+Jfg0Dz7n2AG32L7exSdyQQeRggwAGIABih+bfEEElkCQPFI57YwCgef1f58z78LvgAnC-4-RhXh752F-gXwOThUGgHXn3j-BkAGhtj0NtjntyP9gjhnJLnal6hRv4N6mAVtjtl3l3tfgjpLvOmdEujQDgLtkgLtuoDViABcKQJNPwNujoJACsA3HIAQMmHIGINIFIMwEgI2E0IwONIKFWKaI4LQRIPQUjtdBgKIQDgIYzPQXugQCRjoFjBAIwA4NVmoEAA) demonstrating a separate Overlay component and a Modal component that uses Overlay.

This repo includes sources for the `single` and `composed` examples.

## Caveats

This may have trouble if you're rendering the body tag itself with Mithril, and if the top-level dom nodes within the body are changing while the modal exists. Otherwise, it should safely co-exist with the rest of your Mithril DOM/VDOM.

Note that this example uses ES6 and modern CSS. Sources would need to be compiled to ES5 and include style prefixes for older browsers.
