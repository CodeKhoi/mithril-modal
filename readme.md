# Mithril Modal Example

[Flems demo](https://flems.io/#0=N4IgtglgJlA2CmIBcBWAzAOgOwCYA0IAZhAgM7IDaoAdgIZiJIgYAWALmLCAQMYD21NvEHIQIAL54a9RiACyfKLVgYAVuV4ChIpv2qk2AAgVLYhgLyHCAV2o82EAQAoAlIeAAdaocMIjUPjAvDzY-Qx4WEigAJ2Fg70MAekTDAGEtWghqeGjwwIAHAWEjAHd4QzA+WyM2PkNaQ2i+PjYAWgQAN3gzABEAeTlDakV4Lx89A2NFZXTBTOzcy09qEJCOiHgSpENXCwA+cMjYGLiVtnF4n1i2a2jvZZ8fAR5Y2iEnDrcHx-Gjk+9LB0MBEorEVgkfslDABBfL5YRQeoVaZmPRseY5Qy1LEscoIwx8QiGABGigAnmMfoYAmALNS+DxrAxBMDXkIAKIIZlsJwAcigEA6vJclMhKQAKrjkaZwrBaKRSIYWPKkYRaFB4K0svVqBAwG9HOCqfSwMC5QqAHIyOm8yqmXmix4BRncjCkqBkjC0OEI1J-Jw0kUQx5QhTVJGkeD5WjRN7lABq-UGbFi5VxsUdPlNlWqAcCeCmplm6KyOSDP0kjoExPghD4sWs+SU70+7kzh1BwjpQJBxzBjsrwertfrOXglS62w+ww1bnMB2+YphMCRPHNipKEDYLCs6s1VSM8AAHludXqDQJ2zSzfLSAAZCAGL0wPmRDXC9vXW7ebIlQwABSaSBIycRYF3bHxr3VKB2S6QQHwMYQcj5WhdX1BwimoKBeQLaJyypcR8J8QcfgEWIJ3gXZFxDFIengAwmjJHFyjtZQTSxVMMEMABVUgsgAcwqDAc0EQxN23dsoWoaxYDMFMIH4-ickVVCmNY1E-jBRpxz4Do2JYZoAGtSAwdtsyqQQ8zAAtpNkoinQZJlijdckMHI3T4D9KIrPskjHnWTYqIuBJguC7gQEjBB7ENcgmAANiQHAcAkKQQDoBhRDUDQQDRYpRAmIxYXyOkbDsDDqCoykwlIAyShMNjLDVWBI0ubSbjuNtgwCrYdjnA4wD5L04RwszXwARhwwxeXq3odOFPBRt5fJJt5VJYAgHhDJJbo+D-bE+HhbwGnU+bFuWhbgx+AbeWJaw2FqagRsuqlqONHw2DJeFthuu6Hqet6qWedbNqomrdpmukU2seBgoB4iLrhqa+kOwtlAdZ6fBcC7VjYHGoVgrttyqfid23R9pTY8nskQxFxMibwqlyIrDA6GlsdxjmQihU9N1k+ofRjAlvFqYrCUMeAumiMkyeoQTukjAtvUOjUoGCTmOahbFtzxLCCSJZ0nNE91PQgwwwbqlFDAAMitionBmhG4eu4SUVaXLBH+xG7d5Fg0BWgAJbpYDqGaAEJToxqlroFIVHa973bvugRPfjnxXtTj6vqmxO-rj1OnjsYHDNB2qIca5RI1h-PDD8-PVuDyNUdgdH8-sgG26pDvMfbez8NC+JzNzA3XWNgsiqDcLIvgaKBFikAxoADiQAAGFLpAyphgQVcL3bYURjc6rMY34rJtmXgBuSloxgASz8vhI60EVo1UgWAyW2UhUNIVpI2iCBCHvj4R+bQ+IAC94DbDGnFfIR577BS8ENYq3xr4ClltsHA444HxAAAKGXgGSQgsYGCKjVBqLU9xKSEMCO4A6tAeBbnfoYC+VdsTAFofQj6kDz793BLg-BhCZAkL3K0A8h8rBARodGDhjCxrcMpKw9hDC748IQepMRhQ+LlW2MQI88AoCAKxAdO+VVaxsGMQkTcUBtyQOXsvAApAY3ECl2A2PsQY4kdDDL8SaLYKAbs+DB2iNsaI-EPFOBwCgFAeAIlRJiXgZe2AUAuAMQKUg+Q5SMMIAgWBlJVDWAMP-Mk-jBDFG2DwYoOQDHKAUtQLUQgwCkDKRU6IBiUxfy3IabYiiPpMIwCgUgVS0IXmoNo4R2oEn9KwdQF2phWDQHKN8VC54tG7jIaIiZAyvDwOmepYp2gjDfCEEeNo1T+IjPCM0gxKDb6GAwbSAALOOQwaAnmPLAO4zx3iLJ+P4IE7YABiAAYsC9xfAjw-2VAEHqEynkwtpHcww-yACcKLQXRA1EExFqRsWGDGjAs2AToBwMnt0ae5U55jXuUgMaEgAC6BB1rUGMpQdeshIDbj-lwAgtwuBMHYGwfIjTki2HyF44EgREjspYJy7BY0MByripKrc0qSBZXCpnWQpAXgQHyHvcQtLxBAA)

This is a simple modal example for [Mithril.js](https://mithril.js.org/). It uses a portal-like technique to append a DOM node to the end of the document body and temporarily mounts a separate vnode tree there. When the modal is removed, that dom node and vnode tree are cleaned up.

This allows you to place a modal component nested anywhere within your vdom.

## Composing from re-usable parts

We might want to create a more re-usable Modal component that relies on this portal-like behaviour. Here is a [Flems demo](https://flems.io/#0=N4IgtglgJlA2CmIBcBWAzAOgOwCYA0IAxgPYB2AzsQskVbAIYAO58UIBAZhAucgNqhS9MIiQgMACwAuYWO1qkp8RTRABfPIOGiQAeQBu8AE4MAnhgBWvAiUXKpNAPQAqZwB1SAFQkRyAAgNjMz8SMEYyez9GI2J9aHh-ej8OAFdYWABackIjeGUQ2OM-eAQRRQwPAEkpP18-MGIUuyg-KWI-JJZGeiN6JT8ANUcAEV0AWVbc+A7GRmUoVlb2qQlpgCNiKHMPAGEfWChc0j9yFNnYCEW2gMMTelMO3L8jhdyWiEVln38pKYqvVY3IL3AphCKKEL0Y5raakBJKFpQ0wAd1WT2REBWHz8pkaRhmjAA5OQPHF4Mi-GsUjUMelKdMXsYru0oL5GMFCkY2oxirdTFjSABzYqwFj-ZyODweWzkGqBO4PAC8ySahCkEDIAAoAJR+YBSqQIGpQYhgA1GkL7Q7KKWkNxSGVy25mHZkKT0D5FZX6u1Se1k5FIPw6vyKgB8lu41rtvrUtvtuSkKSMxx99vtZBy8D68E1+l1ab9RcIVqOob8+gwJajRwN6akjkcfgAgrN5h0CooPXD8dcVtN28QOJTNqY60WTWByybCCkylIq7kcwBRUr2TWE1n6Qna8f2ydVhjkcgAOW05cJnLMhL3Uhnc-sGA2WwwTDmpCgeyjmsnu+OfgAgDGz8MZGghTp4G6Xp+gGUYJl+PI-DReBbzADAGiaKQf1NPAgQVV0u09Iw-3rDRxzIGEOGIXIzigHM8wLW9qwOMtlUrZjo3HMjfQzUhKOopkGkMENC3rYDmxgDtCCPfwMRWZJ6AWDJGhqeAAA9MQ6UgIDAPoNRjet91NQ96GPAAZXwF0UqANx8BYd1vRNk2OOEKQABRiSAWE1fFwz1W8jLQ6zl0MRQLNlZRjA3KEdL08EoEJXDiNvNQSKLbj6zIXIhNzRieKLYDhnhGIHn7PwrxBSdJjyDA-AAVXID5hTQjCITkiRb2A0g0lgSYIEFQVjESUgHgaOjeo4ststieheokYhiAAa3If5DJkdCwKwydcO69I0vre95yfUcMGmwwvwObCwH2qQMqLAMRLjWMPDUeQWAQNV9N4MQcDQJAABYAAYMl+pAADZ1E0EAhBEGhQPGyxrAUJQVDEFx3ABOp4dm0FwjhCEUhYH5AXlYJQjxyJrmiWJ4g6DxUjpbIpmOEhbi0lpGSMRI-FZWbiEFDILkW6YMSgQaaUxHxjhWPoPGRD0pH8Kje0BQmimuaSIEIRaOypKQ2lIWrmxAzYcY+WUoUIaZCChDwYT8OEIsREbUSZPx2uxXFkwJYkK0uCkoRaWlevtznWA8Mglh5IdeWMfkpeFEoxVtZc1LmNVFj6X5EieUzkjoYhkXIJBbQ+JQjA4egrZbfWuf8-91UNeAgzQi7OP-WwUakFuMDb2t-z1g3i71aAg1lIwmtwpQ1O7k5fiatQ+AAXQ8ACyB2WBiG80e54noVtSDfRiGgF7bWbGoEFMmoIkpakDZOea0hae3qbiBYWmIfsjAxFhWmQuXuAh1hO0eWpV2jSS3tMMqY1ZriklDGR0JtxrllSKQT6Wp8z1wAhaTW2tWCVCgKvPwRCnIpiwYBB6wAs5cyDMARuCBcKd3sLhQeZByC4XXpvFgahUrkMArUYcmpcHCygAQvwABCZUu1YB5X4fw4CAB1WEeQWjXFmpvCkZVSYgnJuCVSal4Czn6JiEk-45F+GAupTSMVdLqjILVAAQoY+gatag1DqEkDi5VhxYn8Lo-GUg8BEPMcBTSwcHaf2SBAdEqxpbfFxno2o-gzqsH+OYoCTZKgUCUIpXCyJlHMmePAHKbiolcxqPxJ4viEkBOCXI4CgpiAJA6KA1aRYxJNgUbE3Wd9I51GEawPJ0xTSaS0c6HRpoKaKDqfIpsHBPJ-yxqbCaky9G+zhDPP25IikfmMHknwJZ3aAJmYBYC88BpFG0aYX2FF4DK0EoUJCC1FppPSaQlyPUTlPXMe8+omorlBLMXIn06TAJZWKYUESJyQmdIVvnFWwzxnXOSRC-QOMbFxWluAyZRp4CvNBRkvw3h8j5LKcM72UF7C+xtukNYVdFr7K1hII56RoX1KbNEBIc56BrFgA8FJiz-DYxWWCAJ+KCUeRGWKXIlBYDCW1BgfspBNQhj8iCgl-DOGQKERcPBoioB-g1fwtCbxejIh1Gy-hqVLV+G+ek7ioKwAbg2uNRKNqnWEgkGgRKrRMQIG1ICjVHqXWzQyEwxQPrw1SADe651MDMisIoG6oFoLE0rV0owTUaxQxhhtcajcibk1GuBXm9JUhTBzCDISQtgbi1yNZOQHlCAoBBgGfqiRUieq1rrWCtBurFpQpTT2kI-b8EtGVGsDAJ8h3FrtT2h1w7J3Tz9DO9JhqjXrtBZuuR26AK6jkXUu1T0npvRKIYuxFAaAAEYcBIEBpDLQsMxCI3kFGmgiDWw8mVKg9ByrZF+AtOQeayJhUoNmiwW0AFfnqoAgGIMqqIzBrfEWuRHqJBXp9YSUDRUGg7m7YBD1RJcKEg3lrHWMINFLHKu+Ds8a8MnMIyh8xHqa02pgwS8tla-DVt6aQJjBLMz9sHT2oDhdQPKl+CkFCq6rU2oXaCwkugaPCpvKumNq7gIhXyCsRogpmXVPjUkh28JFge2OHiFsswKzbTZaEiWdI3zZnxJHbk3jY5GHjk1EULBcKOd2S0WzTY+yAkHMOQ6kRnzbFXaJkDyy-AADJ4t-OFbhdj5j6HN24wACRKJvJBs1xH8fMVGqtpHtZ-3WLx+klGNZcLxUVuRaagwCB3oSCBLAfXLtK3Vwkagl74fMVq7eBq+EEpi+JhSoppMarnXI61Q7t3ruPbaFqm1sKziOpF3Cn6-wPuhtoGgVZjyvrdPYGgkXyG6SMIKD4QZAYAG4iHdBgE1O7j3-xUUUBkSukA+VjyhOQLIxgIAcHewBT7UgsgQAAF6ZavWDRgal3tPQ8K+Kz6rnusiFEGHAxTke2gAALC1MPM7QStFLwAyNidV8zTR6mIN0QgmJTBvbtdcYADOq7M6DFe+7y2YxE-gCT3oIhydKRUuQ2nU4OeM+534XnbP2gy65+W1np8YwYAqg8DHW9MT6SDFwAxUAwdRze0QhAHBZ4PaIaLFYPPAaAwAKQm9WP1aQ9uncm7pdrQUMQmhQDDVQaiQZrt0s1DgFAKA8AR6jzHvAgNsAoG1Cbht7J7gG4QEjohFhCbqg4KYQPdhFCtvsMYE3s1+qkCp0oMAw8rZ2CMOX7Stj9cKSUtiBPKByD48NlryQtN1UYovQbinylqR+E7939XqPDPquXRkCvgpSAl4bybzHr2-C46nP9Ypfg0C7532AL39LfdgQDyQTeRggwAGIABi9+vfEDUlkCQilC53YwCgXfnfd9b78NfgATiAMfyMFeBvx2AgPl0RxOCoGgB7xn2WQyDTUux6Buyr25B5zxwAnVxDQTV438ETRQOu1uwnwn0-zx3V1PQ+gvW+hADQBQCQCvXUH6xAAuFIGWn4EfR0EgBWAnjkAIGTDkDEGkCkGYCQEbCaEYEWkFCrFNEcB4IkD4IJyvQwBULBnkMlj4JfQIE4x0CZggEYAcD6zUCAA) demonstrating a separate Overlay component and a Modal component that uses Overlay.

This repo includes sources for the `single` and `composed` examples.

## Caveats

This may have trouble if you're rendering the body tag itself with Mithril, and if the top-level dom nodes within the body are changing while the modal exists. Otherwise, it should safely co-exist with the rest of your Mithril DOM/VDOM.

Note that this example uses ES6 and modern CSS. Sources would need to be compiled to ES5 and include style prefixes for older browsers.
